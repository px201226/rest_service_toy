{"remainingRequest":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","dependencies":[{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","mtime":1609994366259},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvTGVlLUdpLVN1L0lkZWFQcm9qZWN0cy9yZXN0YXBpL3NwcmluZ2Jvb3RfYm9hcmRfd2l0aF92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBzdG9yZSBmcm9tICcuJzsKaW1wb3J0IHsgbG9nb3V0LCBsb2dpbiwgam9pbiwgZ2V0VXNlciB9IGZyb20gIi4uL2FwaS91c2VyX2FwaSI7CmltcG9ydCB7IHNldFRva2VuSW5Mb2NhbFN0b3JhZ2UsIHNldFNuYWNrQmFySW5mbyB9IGZyb20gIi4vdG9rZW4iOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7IC8vIHN0YXRlCgp2YXIgc3RhdGUgPSB7CiAgand0VG9rZW46ICIiLAogIHVzZXI6ICIiLAogIGxvZ2luOiBmYWxzZQp9OyAvLyBnZXR0ZXJzCgp2YXIgZ2V0dGVycyA9IHsKICBHRVRfSVNfTE9HSU46IGZ1bmN0aW9uIEdFVF9JU19MT0dJTihzdGF0ZSkgewogICAgcmV0dXJuICEhc3RhdGUuand0VG9rZW47CiAgfSwKICBHRVRfSldUX1RPS0VOOiBmdW5jdGlvbiBHRVRfSldUX1RPS0VOKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuand0VG9rZW47CiAgfSwKICBHRVRfVVNFUjogZnVuY3Rpb24gR0VUX1VTRVIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0KfTsgLy8gbXV0YXRpb25zCgp2YXIgbXV0YXRpb25zID0gewogIFNFVF9VU0VSOiBmdW5jdGlvbiBTRVRfVVNFUihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICBTRVRfTE9HT1VUOiBmdW5jdGlvbiBTRVRfTE9HT1VUKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VyID0gIiI7CiAgfSwKICBTRVRfSldUVE9LRU46IGZ1bmN0aW9uIFNFVF9KV1RUT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLmp3dFRva2VuID0gdG9rZW47CiAgfQp9OyAvLyBhY3Rpb25zCgp2YXIgYWN0aW9ucyA9IHsKICAvLyDtmozsm5DqsIDsnoUKICBRVUVSWV9KT0lOOiBmdW5jdGlvbiBRVUVSWV9KT0lOKGNvbnRleHQsIHJlcSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NUQVJUX0xPQURJTkcnKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gam9pbihyZXEpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ09QRU5fU05BQ0tCQVInLCBzZXRTbmFja0JhckluZm8oJ+2ajOybkOqwgOyeheydtCDsmYTro4zrkJjsl4jsirXri4jri6QuJywgJ3N1Y2Nlc3MnLCAndG9wJykpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdPUEVOX01PREFMJywgewogICAgICAgICAgICAgICAgdGl0bGU6ICfsl5Drn6wnLAogICAgICAgICAgICAgICAgY29udGVudDogX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgb3B0aW9uMTogJ+uLq+q4sCcKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgLy8g66Gc6re47J24CiAgUVVFUllfTE9HSU46IGZ1bmN0aW9uIFFVRVJZX0xPR0lOKGNvbnRleHQsIHJlcSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciByZXNwb25zZSwgcmVzcG9uc2UxOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU1RBUlRfTE9BRElORycpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbG9naW4ocmVxKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgICAgc2V0VG9rZW5JbkxvY2FsU3RvcmFnZShyZXNwb25zZS5kYXRhLmp3dFRva2VuKTsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX0pXVFRPS0VOJywgcmVzcG9uc2UuZGF0YS5qd3RUb2tlbik7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlcigpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXNwb25zZTEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX1VTRVInLCByZXNwb25zZTEuZGF0YSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmp3dFRva2VuKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNTsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnT1BFTl9NT0RBTCcsIHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn7JeQ65+sJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF9jb250ZXh0Mi50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICBvcHRpb24xOiAn64ur6riwJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDE1XV0pOwogICAgfSkpKCk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["C:/Users/Lee-Gi-Su/IdeaProjects/restapi/springboot_board_with_vuejs/src/store/user.js"],"names":["store","logout","login","join","getUser","setTokenInLocalStorage","setSnackBarInfo","router","state","jwtToken","user","getters","GET_IS_LOGIN","GET_JWT_TOKEN","GET_USER","mutations","SET_USER","SET_LOGOUT","SET_JWTTOKEN","token","actions","QUERY_JOIN","context","req","commit","response","push","title","content","data","message","option1","QUERY_LOGIN","response1","console","log"],"mappings":"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","sourcesContent":["import store from '.';\r\nimport {logout, login, join, getUser } from \"../api/user_api\";\r\nimport {setTokenInLocalStorage,setSnackBarInfo} from \"./token\"\r\nimport router from \"../router\";\r\n\r\n// state\r\nconst state = {\r\n  jwtToken:\"\",\r\n  user : \"\",\r\n  login:false\r\n};\r\n\r\n// getters\r\nconst getters = {\r\n \r\n  GET_IS_LOGIN(state) {\r\n    return !!state.jwtToken;\r\n  },\r\n  GET_JWT_TOKEN(state){\r\n    return state.jwtToken;\r\n  },\r\n\r\n  GET_USER(state){\r\n    return state.user\r\n  }\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n  SET_USER(state,user){\r\n    state.user = user;\r\n  },\r\n  SET_LOGOUT(state){\r\n    state.user=\"\"\r\n  },\r\n  SET_JWTTOKEN(state,token){\r\n    state.jwtToken = token;\r\n  },\r\n};\r\n\r\n// actions\r\nconst actions = {\r\n  \r\n  // 회원가입\r\n  async QUERY_JOIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await join(req);\r\n      router.push(\"/login\")\r\n      context.commit('OPEN_SNACKBAR', setSnackBarInfo('회원가입이 완료되었습니다.', 'success', 'top'))\r\n    } catch (e) {\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.data.message, option1: '닫기',});\r\n    } \r\n  },\r\n\r\n  // 로그인\r\n  async QUERY_LOGIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await login(req);\r\n      router.push(\"/\")\r\n\r\n      setTokenInLocalStorage(response.data.jwtToken);\r\n      context.commit('SET_JWTTOKEN',response.data.jwtToken );\r\n  \r\n      const response1 = await getUser();\r\n      context.commit('SET_USER',response1.data)\r\n\r\n      return response.jwtToken;\r\n    } catch (e) {\r\n      console.log(e);\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.data.message, option1: '닫기',});\r\n    }\r\n  },\r\n};\r\n\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n"]}]}