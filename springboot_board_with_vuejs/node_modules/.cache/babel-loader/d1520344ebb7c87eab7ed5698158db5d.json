{"remainingRequest":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","dependencies":[{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","mtime":1609741462843},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvTGVlLUdpLVN1L0lkZWFQcm9qZWN0cy9yZXN0YXBpL3NwcmluZ2Jvb3RfYm9hcmRfd2l0aF92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBzdG9yZSBmcm9tICcuJzsKaW1wb3J0IHsgbG9nb3V0LCBsb2dpbiwgam9pbiwgZ2V0VXNlciB9IGZyb20gIi4uL2FwaS91c2VyX2FwaSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsgLy8gc3RhdGUKCnZhciBzdGF0ZSA9IHsKICBqd3RUb2tlbjogIiIsCiAgdXNlcjogIiIsCiAgbG9naW46IGZhbHNlCn07IC8vIGdldHRlcnMKCnZhciBnZXR0ZXJzID0gewogIEdFVF9JU19MT0dJTjogZnVuY3Rpb24gR0VUX0lTX0xPR0lOKHN0YXRlKSB7CiAgICByZXR1cm4gISFzdGF0ZS5qd3RUb2tlbjsKICB9LAogIEdFVF9KV1RfVE9LRU46IGZ1bmN0aW9uIEdFVF9KV1RfVE9LRU4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5qd3RUb2tlbjsKICB9Cn07IC8vIG11dGF0aW9ucwoKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVVNFUjogZnVuY3Rpb24gU0VUX1VTRVIoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0sCiAgU0VUX0xPR09VVDogZnVuY3Rpb24gU0VUX0xPR09VVChzdGF0ZSkgewogICAgc3RhdGUudXNlciA9ICIiOwogIH0sCiAgU0VUX0pXVFRPS0VOOiBmdW5jdGlvbiBTRVRfSldUVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS5qd3RUb2tlbiA9IHRva2VuOwogIH0KfTsgLy8gYWN0aW9ucwoKdmFyIGFjdGlvbnMgPSB7CiAgLy8g7ZqM7JuQ6rCA7J6FCiAgUVVFUllfSk9JTjogZnVuY3Rpb24gUVVFUllfSk9JTihjb250ZXh0LCByZXEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTVEFSVF9MT0FESU5HJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGpvaW4ocmVxKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdPUEVOX1NOQUNLQkFSJywgc2V0U25hY2tCYXJJbmZvKCftmozsm5DqsIDsnoXsnbQg7JmE66OM65CY7JeI7Iq164uI64ukLicsICdzdWNjZXNzJywgJ3RvcCcpKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnT1BFTl9NT0RBTCcsIHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn7JeQ65+sJywKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF9jb250ZXh0LnQwLnJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICBvcHRpb24xOiAn64ur6riwJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA5XV0pOwogICAgfSkpKCk7CiAgfSwKICAvLyDroZzqt7jsnbgKICBRVUVSWV9MT0dJTjogZnVuY3Rpb24gUVVFUllfTE9HSU4oY29udGV4dCwgcmVxKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHJlc3BvbnNlLCByZXNwb25zZTE7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTVEFSVF9MT0FESU5HJyk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBsb2dpbihyZXEpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgICBzZXRUb2tlbkluTG9jYWxTdG9yYWdlKHJlc3BvbnNlLmRhdGEuand0VG9rZW4pOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfSldUVE9LRU4nLCByZXNwb25zZS5kYXRhLmp3dFRva2VuKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBnZXRVc2VyKCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJlc3BvbnNlMSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qd3RUb2tlbik7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ09QRU5fTU9EQUwnLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+yXkOufrCcsCiAgICAgICAgICAgICAgICBjb250ZW50OiBfY29udGV4dDIudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgb3B0aW9uMTogJ+uLq+q4sCcKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCAxNF1dKTsKICAgIH0pKSgpOwogIH0KfTsKCmZ1bmN0aW9uIHNldFNuYWNrQmFySW5mbyh0ZXh0LCBjb2xvciwgbG9jYXRpb24pIHsKICByZXR1cm4gewogICAgdGV4dDogdGV4dCwKICAgIGNvbG9yOiBjb2xvciwKICAgIGxvY2F0aW9uOiBsb2NhdGlvbgogIH07Cn0KCnZhciBzZXRUb2tlbkluTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2V0VG9rZW5JbkxvY2FsU3RvcmFnZShqd3RUb2tlbikgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJqd3RUb2tlbiIsIGp3dFRva2VuKTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["C:/Users/Lee-Gi-Su/IdeaProjects/restapi/springboot_board_with_vuejs/src/store/user.js"],"names":["store","logout","login","join","getUser","router","state","jwtToken","user","getters","GET_IS_LOGIN","GET_JWT_TOKEN","mutations","SET_USER","SET_LOGOUT","SET_JWTTOKEN","token","actions","QUERY_JOIN","context","req","commit","response","push","setSnackBarInfo","title","content","message","option1","QUERY_LOGIN","setTokenInLocalStorage","data","response1","console","log","text","color","location","localStorage","setItem"],"mappings":"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","sourcesContent":["import store from '.';\r\nimport {logout, login, join, getUser } from \"../api/user_api\";\r\nimport router from \"../router\";\r\n\r\n// state\r\nconst state = {\r\n  jwtToken:\"\",\r\n  user : \"\",\r\n  login:false\r\n};\r\n\r\n// getters\r\nconst getters = {\r\n \r\n  GET_IS_LOGIN(state) {\r\n    return !!state.jwtToken;\r\n  },\r\n  GET_JWT_TOKEN(state){\r\n    return state.jwtToken;\r\n  }\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n  SET_USER(state,user){\r\n    state.user = user;\r\n  },\r\n  SET_LOGOUT(state){\r\n    state.user=\"\"\r\n  },\r\n  SET_JWTTOKEN(state,token){\r\n    state.jwtToken = token;\r\n  },\r\n};\r\n\r\n// actions\r\nconst actions = {\r\n  \r\n  // 회원가입\r\n  async QUERY_JOIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await join(req);\r\n      router.push(\"/login\")\r\n      context.commit('OPEN_SNACKBAR', setSnackBarInfo('회원가입이 완료되었습니다.', 'success', 'top'))\r\n    } catch (e) {\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.message, option1: '닫기',});\r\n    } \r\n  },\r\n\r\n  // 로그인\r\n  async QUERY_LOGIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await login(req);\r\n      router.push(\"/\")\r\n\r\n      setTokenInLocalStorage(response.data.jwtToken);\r\n      context.commit('SET_JWTTOKEN',response.data.jwtToken );\r\n  \r\n      const response1 = await getUser();\r\n      return response.jwtToken;\r\n    } catch (e) {\r\n      console.log(e);\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.data.message, option1: '닫기',});\r\n    }\r\n  },\r\n};\r\n\r\nfunction setSnackBarInfo(text, color, location) {\r\n  return {\r\n      text: text,\r\n      color: color,\r\n      location: location,\r\n  }\r\n}\r\nconst setTokenInLocalStorage = (jwtToken) => {\r\n  localStorage.setItem(\"jwtToken\", jwtToken);\r\n};\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n"]}]}