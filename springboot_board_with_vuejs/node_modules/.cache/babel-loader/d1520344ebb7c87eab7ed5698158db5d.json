{"remainingRequest":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","dependencies":[{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\src\\store\\user.js","mtime":1610606748818},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\restapi\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvTGVlLUdpLVN1L0lkZWFQcm9qZWN0cy9yZXN0YXBpL3NwcmluZ2Jvb3RfYm9hcmRfd2l0aF92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBzdG9yZSBmcm9tICcuJzsKaW1wb3J0IHsgbG9nb3V0LCBsb2dpbiwgam9pbiwgZ2V0VXNlciB9IGZyb20gIi4uL2FwaS91c2VyX2FwaSI7CmltcG9ydCB7IHNldFRva2VuSW5Mb2NhbFN0b3JhZ2UgfSBmcm9tICIuL3Rva2VuIjsKaW1wb3J0IHsgc2V0U25hY2tCYXJJbmZvIH0gZnJvbSAiLi4vYXBpL2NvbW1vbl9hcGkiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7IC8vIHN0YXRlCgp2YXIgc3RhdGUgPSB7CiAgand0VG9rZW46ICIiLAogIHVzZXI6ICIiLAogIGxvZ2luOiBmYWxzZQp9OyAvLyBnZXR0ZXJzCgp2YXIgZ2V0dGVycyA9IHsKICBHRVRfSVNfTE9HSU46IGZ1bmN0aW9uIEdFVF9JU19MT0dJTihzdGF0ZSkgewogICAgcmV0dXJuICEhc3RhdGUuand0VG9rZW47CiAgfSwKICBHRVRfSldUX1RPS0VOOiBmdW5jdGlvbiBHRVRfSldUX1RPS0VOKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuand0VG9rZW47CiAgfSwKICBHRVRfVVNFUjogZnVuY3Rpb24gR0VUX1VTRVIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0KfTsgLy8gbXV0YXRpb25zCgp2YXIgbXV0YXRpb25zID0gewogIFNFVF9VU0VSOiBmdW5jdGlvbiBTRVRfVVNFUihzdGF0ZSwgdXNlcikgewogICAgc3RhdGUudXNlciA9IHVzZXI7CiAgfSwKICBTRVRfTE9HT1VUOiBmdW5jdGlvbiBTRVRfTE9HT1VUKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VyID0gIiI7CiAgfSwKICBTRVRfSldUVE9LRU46IGZ1bmN0aW9uIFNFVF9KV1RUT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLmp3dFRva2VuID0gdG9rZW47CiAgfQp9OyAvLyBhY3Rpb25zCgp2YXIgYWN0aW9ucyA9IHsKICAvLyDtmozsm5DqsIDsnoUKICBRVUVSWV9KT0lOOiBmdW5jdGlvbiBRVUVSWV9KT0lOKGNvbnRleHQsIHJlcSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NUQVJUX0xPQURJTkcnKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gam9pbihyZXEpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ09QRU5fU05BQ0tCQVInLCBzZXRTbmFja0JhckluZm8oJ+2ajOybkOqwgOyeheydtCDsmYTro4zrkJjsl4jsirXri4jri6QuJywgJ3N1Y2Nlc3MnLCAndG9wJykpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gOTsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdPUEVOX01PREFMJywgewogICAgICAgICAgICAgICAgdGl0bGU6ICfsl5Drn6wnLAogICAgICAgICAgICAgICAgY29udGVudDogX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgb3B0aW9uMTogJ+uLq+q4sCcKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgLy8g66Gc6re47J24CiAgUVVFUllfTE9HSU46IGZ1bmN0aW9uIFFVRVJZX0xPR0lOKGNvbnRleHQsIHJlcSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciByZXNwb25zZSwgcmVzcG9uc2UxOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU1RBUlRfTE9BRElORycpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbG9naW4ocmVxKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIHJvdXRlci5iYWNrKCIiKTsgLy9KV1Qg7Yag7YGwIOyEpOyglQoKICAgICAgICAgICAgICBzZXRUb2tlbkluTG9jYWxTdG9yYWdlKHJlc3BvbnNlLmRhdGEuand0VG9rZW4pOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfSldUVE9LRU4nLCByZXNwb25zZS5kYXRhLmp3dFRva2VuKTsgLy8gVVNFUiBQUk9GSUxFIOyEpOyglQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBnZXRVc2VyKCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJlc3BvbnNlMSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfVVNFUicsIHJlc3BvbnNlMS5kYXRhKTsgLy8gTWF0Y2hpbmcg7LC46rCAIOyXrOu2gCDtmZXsnbgKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlMS5kYXRhLmxhc3RNYXRjaGluZ0RhdGUpIGNvbnRleHQuY29tbWl0KCJTRVRfSVNfQVBQTElFRCIsIHRydWUpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5qd3RUb2tlbik7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ09QRU5fTU9EQUwnLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+yXkOufrCcsCiAgICAgICAgICAgICAgICBjb250ZW50OiBfY29udGV4dDIudDAucmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgb3B0aW9uMTogJ+uLq+q4sCcKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCAxNl1dKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["C:/Users/Lee-Gi-Su/IdeaProjects/restapi/springboot_board_with_vuejs/src/store/user.js"],"names":["store","logout","login","join","getUser","setTokenInLocalStorage","setSnackBarInfo","router","state","jwtToken","user","getters","GET_IS_LOGIN","GET_JWT_TOKEN","GET_USER","mutations","SET_USER","SET_LOGOUT","SET_JWTTOKEN","token","actions","QUERY_JOIN","context","req","commit","response","push","title","content","data","message","option1","QUERY_LOGIN","back","response1","lastMatchingDate","console","log"],"mappings":"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","sourcesContent":["import store from '.';\r\nimport {logout, login, join, getUser } from \"../api/user_api\";\r\nimport {setTokenInLocalStorage} from \"./token\"\r\nimport {setSnackBarInfo} from \"../api/common_api\"\r\nimport router from \"../router\";\r\n\r\n// state\r\nconst state = {\r\n  jwtToken:\"\",\r\n  user : \"\",\r\n  login:false\r\n};\r\n\r\n// getters\r\nconst getters = {\r\n \r\n  GET_IS_LOGIN(state) {\r\n    return !!state.jwtToken;\r\n  },\r\n  GET_JWT_TOKEN(state){\r\n    return state.jwtToken;\r\n  },\r\n\r\n  GET_USER(state){\r\n    return state.user\r\n  }\r\n\r\n  \r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n  SET_USER(state,user){\r\n    state.user = user;\r\n  },\r\n  SET_LOGOUT(state){\r\n    state.user=\"\"\r\n  },\r\n  SET_JWTTOKEN(state,token){\r\n    state.jwtToken = token;\r\n  },\r\n};\r\n\r\n// actions\r\nconst actions = {\r\n  \r\n  // 회원가입\r\n  async QUERY_JOIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await join(req);\r\n      router.push(\"/login\")\r\n      context.commit('OPEN_SNACKBAR', setSnackBarInfo('회원가입이 완료되었습니다.', 'success', 'top'))\r\n    } catch (e) {\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.data.message, option1: '닫기',});\r\n    } \r\n  },\r\n\r\n  // 로그인\r\n  async QUERY_LOGIN(context, req) {\r\n    try {\r\n      context.commit('START_LOADING')\r\n      const response = await login(req);\r\n      router.back(\"\")\r\n\r\n      //JWT 토큰 설정\r\n      setTokenInLocalStorage(response.data.jwtToken);\r\n      context.commit('SET_JWTTOKEN',response.data.jwtToken );\r\n  \r\n      // USER PROFILE 설정\r\n      const response1 = await getUser();\r\n      context.commit('SET_USER',response1.data)\r\n      \r\n      // Matching 참가 여부 확인\r\n      if(response1.data.lastMatchingDate)\r\n      context.commit(\"SET_IS_APPLIED\", true);\r\n\r\n      return response.jwtToken;\r\n    } catch (e) {\r\n      console.log(e);\r\n      context.commit('OPEN_MODAL', {title: '에러', content: e.response.data.message, option1: '닫기',});\r\n    }\r\n  },\r\n};\r\n\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n"]}]}