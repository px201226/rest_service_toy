{"remainingRequest":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board-vue\\backend\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board-vue\\backend\\springboot_board_with_vuejs\\node_modules\\vuetify\\lib\\components\\VTreeview\\VTreeview.js","dependencies":[{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board-vue\\backend\\springboot_board_with_vuejs\\node_modules\\vuetify\\lib\\components\\VTreeview\\VTreeview.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board-vue\\backend\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board-vue\\backend\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICJDOi9Vc2Vycy9MZWUtR2ktU3UvSWRlYVByb2plY3RzL3NwcmluZ2Jvb3QtYm9hcmQtdnVlL2JhY2tlbmQvc3ByaW5nYm9vdF9ib2FyZF93aXRoX3Z1ZWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL0xlZS1HaS1TdS9JZGVhUHJvamVjdHMvc3ByaW5nYm9vdC1ib2FyZC12dWUvYmFja2VuZC9zcHJpbmdib290X2JvYXJkX3dpdGhfdnVlanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkM6L1VzZXJzL0xlZS1HaS1TdS9JZGVhUHJvamVjdHMvc3ByaW5nYm9vdC1ib2FyZC12dWUvYmFja2VuZC9zcHJpbmdib290X2JvYXJkX3dpdGhfdnVlanMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvTGVlLUdpLVN1L0lkZWFQcm9qZWN0cy9zcHJpbmdib290LWJvYXJkLXZ1ZS9iYWNrZW5kL3NwcmluZ2Jvb3RfYm9hcmRfd2l0aF92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vIFN0eWxlcwppbXBvcnQgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1ZUcmVldmlldy9WVHJlZXZpZXcuc2FzcyI7IC8vIENvbXBvbmVudHMKCmltcG9ydCBWVHJlZXZpZXdOb2RlLCB7IFZUcmVldmlld05vZGVQcm9wcyB9IGZyb20gJy4vVlRyZWV2aWV3Tm9kZSc7IC8vIE1peGlucwoKaW1wb3J0IFRoZW1lYWJsZSBmcm9tICcuLi8uLi9taXhpbnMvdGhlbWVhYmxlJzsKaW1wb3J0IHsgcHJvdmlkZSBhcyBSZWdpc3RyYWJsZVByb3ZpZGUgfSBmcm9tICcuLi8uLi9taXhpbnMvcmVnaXN0cmFibGUnOyAvLyBVdGlscwoKaW1wb3J0IHsgYXJyYXlEaWZmLCBkZWVwRXF1YWwsIGdldE9iamVjdFZhbHVlQnlQYXRoIH0gZnJvbSAnLi4vLi4vdXRpbC9oZWxwZXJzJzsKaW1wb3J0IG1peGlucyBmcm9tICcuLi8uLi91dGlsL21peGlucyc7CmltcG9ydCB7IGNvbnNvbGVXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zb2xlJzsKaW1wb3J0IHsgZmlsdGVyVHJlZUl0ZW1zLCBmaWx0ZXJUcmVlSXRlbSB9IGZyb20gJy4vdXRpbC9maWx0ZXJUcmVlSXRlbXMnOwpleHBvcnQgZGVmYXVsdCBtaXhpbnMoUmVnaXN0cmFibGVQcm92aWRlKCd0cmVldmlldycpLCBUaGVtZWFibGUKLyogQHZ1ZS9jb21wb25lbnQgKi8KKS5leHRlbmQoewogIG5hbWU6ICd2LXRyZWV2aWV3JywKICBwcm92aWRlOiBmdW5jdGlvbiBwcm92aWRlKCkgewogICAgcmV0dXJuIHsKICAgICAgdHJlZXZpZXc6IHRoaXMKICAgIH07CiAgfSwKICBwcm9wczogX29iamVjdFNwcmVhZCh7CiAgICBhY3RpdmU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGRlbnNlOiBCb29sZWFuLAogICAgZmlsdGVyOiBGdW5jdGlvbiwKICAgIGhvdmVyYWJsZTogQm9vbGVhbiwKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBtdWx0aXBsZUFjdGl2ZTogQm9vbGVhbiwKICAgIG9wZW46IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG9wZW5BbGw6IEJvb2xlYW4sCiAgICByZXR1cm5PYmplY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzZWFyY2g6IFN0cmluZywKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LCBWVHJlZXZpZXdOb2RlUHJvcHMpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsZXZlbDogLTEsCiAgICAgIGFjdGl2ZUNhY2hlOiBuZXcgU2V0KCksCiAgICAgIG5vZGVzOiB7fSwKICAgICAgb3BlbkNhY2hlOiBuZXcgU2V0KCksCiAgICAgIHNlbGVjdGVkQ2FjaGU6IG5ldyBTZXQoKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBleGNsdWRlZEl0ZW1zOiBmdW5jdGlvbiBleGNsdWRlZEl0ZW1zKCkgewogICAgICB2YXIgZXhjbHVkZWQgPSBuZXcgU2V0KCk7CiAgICAgIGlmICghdGhpcy5zZWFyY2gpIHJldHVybiBleGNsdWRlZDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIGZpbHRlclRyZWVJdGVtcyh0aGlzLmZpbHRlciB8fCBmaWx0ZXJUcmVlSXRlbSwgdGhpcy5pdGVtc1tpXSwgdGhpcy5zZWFyY2gsIHRoaXMuaXRlbUtleSwgdGhpcy5pdGVtVGV4dCwgdGhpcy5pdGVtQ2hpbGRyZW4sIGV4Y2x1ZGVkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGV4Y2x1ZGVkOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGl0ZW1zOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIG9sZEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5tYXAoZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJldHVybiBnZXRPYmplY3RWYWx1ZUJ5UGF0aChfdGhpcy5ub2Rlc1trXS5pdGVtLCBfdGhpcy5pdGVtS2V5KTsKICAgICAgICB9KTsKICAgICAgICB2YXIgbmV3S2V5cyA9IHRoaXMuZ2V0S2V5cyh0aGlzLml0ZW1zKTsKICAgICAgICB2YXIgZGlmZiA9IGFycmF5RGlmZihuZXdLZXlzLCBvbGRLZXlzKTsgLy8gV2Ugb25seSB3YW50IHRvIGRvIHN0dWZmIGlmIGl0ZW1zIGhhdmUgY2hhbmdlZAoKICAgICAgICBpZiAoIWRpZmYubGVuZ3RoICYmIG5ld0tleXMubGVuZ3RoIDwgb2xkS2V5cy5sZW5ndGgpIHJldHVybjsgLy8gSWYgbm9kZXMgYXJlIHJlbW92ZWQgd2UgbmVlZCB0byBjbGVhciB0aGVtIGZyb20gdGhpcy5ub2RlcwoKICAgICAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGspIHsKICAgICAgICAgIHJldHVybiBkZWxldGUgX3RoaXMubm9kZXNba107CiAgICAgICAgfSk7CgogICAgICAgIHZhciBvbGRTZWxlY3RlZENhY2hlID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuc2VsZWN0ZWRDYWNoZSk7CgogICAgICAgIHRoaXMuc2VsZWN0ZWRDYWNoZSA9IG5ldyBTZXQoKTsKICAgICAgICB0aGlzLmFjdGl2ZUNhY2hlID0gbmV3IFNldCgpOwogICAgICAgIHRoaXMub3BlbkNhY2hlID0gbmV3IFNldCgpOwogICAgICAgIHRoaXMuYnVpbGRUcmVlKHRoaXMuaXRlbXMpOyAvLyBPbmx5IGVtaXQgc2VsZWN0ZWQgaWYgc2VsZWN0aW9uIGhhcyBjaGFuZ2VkCiAgICAgICAgLy8gYXMgYSByZXN1bHQgb2YgaXRlbXMgY2hhbmdpbmcuIFRoaXMgZml4ZXMgYQogICAgICAgIC8vIHBvdGVudGlhbCBkb3VibGUgZW1pdCB3aGVuIHNlbGVjdGluZyBhIG5vZGUKICAgICAgICAvLyB3aXRoIGR5bmFtaWMgY2hpbGRyZW4KCiAgICAgICAgaWYgKCFkZWVwRXF1YWwob2xkU2VsZWN0ZWRDYWNoZSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuc2VsZWN0ZWRDYWNoZSkpKSB0aGlzLmVtaXRTZWxlY3RlZCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgYWN0aXZlOiBmdW5jdGlvbiBhY3RpdmUodmFsdWUpIHsKICAgICAgdGhpcy5oYW5kbGVOb2RlQ2FjaGVXYXRjaGVyKHZhbHVlLCB0aGlzLmFjdGl2ZUNhY2hlLCB0aGlzLnVwZGF0ZUFjdGl2ZSwgdGhpcy5lbWl0QWN0aXZlKTsKICAgIH0sCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoX3ZhbHVlKSB7CiAgICAgIHRoaXMuaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcihfdmFsdWUsIHRoaXMuc2VsZWN0ZWRDYWNoZSwgdGhpcy51cGRhdGVTZWxlY3RlZCwgdGhpcy5lbWl0U2VsZWN0ZWQpOwogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4odmFsdWUpIHsKICAgICAgdGhpcy5oYW5kbGVOb2RlQ2FjaGVXYXRjaGVyKHZhbHVlLCB0aGlzLm9wZW5DYWNoZSwgdGhpcy51cGRhdGVPcGVuLCB0aGlzLmVtaXRPcGVuKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbiBnZXRWYWx1ZShrZXkpIHsKICAgICAgcmV0dXJuIF90aGlzMi5yZXR1cm5PYmplY3QgPyBnZXRPYmplY3RWYWx1ZUJ5UGF0aChrZXksIF90aGlzMi5pdGVtS2V5KSA6IGtleTsKICAgIH07CgogICAgdGhpcy5idWlsZFRyZWUodGhpcy5pdGVtcyk7CgogICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudmFsdWUubWFwKGdldFZhbHVlKSksCiAgICAgICAgX3N0ZXA7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcC52YWx1ZTsKICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkKHZhbHVlLCB0cnVlLCB0cnVlKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IuZigpOwogICAgfQoKICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5hY3RpdmUubWFwKGdldFZhbHVlKSksCiAgICAgICAgX3N0ZXAyOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGFjdGl2ZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZShhY3RpdmUsIHRydWUpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IyLmYoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAvLyBTYXZlIHRoZSBkZXZlbG9wZXIgZnJvbSB0aGVtc2VsdmVzCiAgICBpZiAodGhpcy4kc2xvdHMucHJlcGVuZCB8fCB0aGlzLiRzbG90cy5hcHBlbmQpIHsKICAgICAgY29uc29sZVdhcm4oJ1RoZSBwcmVwZW5kIGFuZCBhcHBlbmQgc2xvdHMgcmVxdWlyZSBhIHNsb3Qtc2NvcGUgYXR0cmlidXRlJywgdGhpcyk7CiAgICB9CgogICAgaWYgKHRoaXMub3BlbkFsbCkgewogICAgICB0aGlzLnVwZGF0ZUFsbCh0cnVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMub3Blbi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnVwZGF0ZU9wZW4oX3RoaXMzLnJldHVybk9iamVjdCA/IGdldE9iamVjdFZhbHVlQnlQYXRoKGtleSwgX3RoaXMzLml0ZW1LZXkpIDoga2V5LCB0cnVlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZW1pdE9wZW4oKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiBAcHVibGljICovCiAgICB1cGRhdGVBbGw6IGZ1bmN0aW9uIHVwZGF0ZUFsbCh2YWx1ZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIE9iamVjdC5rZXlzKHRoaXMubm9kZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBfdGhpczQudXBkYXRlT3BlbihnZXRPYmplY3RWYWx1ZUJ5UGF0aChfdGhpczQubm9kZXNba2V5XS5pdGVtLCBfdGhpczQuaXRlbUtleSksIHZhbHVlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZW1pdE9wZW4oKTsKICAgIH0sCiAgICBnZXRLZXlzOiBmdW5jdGlvbiBnZXRLZXlzKGl0ZW1zKSB7CiAgICAgIHZhciBrZXlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbXNbaV0sIHRoaXMuaXRlbUtleSk7CiAgICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgICAgdmFyIGNoaWxkcmVuID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbXNbaV0sIHRoaXMuaXRlbUNoaWxkcmVuKTsKCiAgICAgICAgaWYgKGNoaWxkcmVuKSB7CiAgICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZ2V0S2V5cyhjaGlsZHJlbikpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXlzOwogICAgfSwKICAgIGJ1aWxkVHJlZTogZnVuY3Rpb24gYnVpbGRUcmVlKGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldOwogICAgICAgIHZhciBrZXkgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCB0aGlzLml0ZW1LZXkpOwogICAgICAgIHZhciBjaGlsZHJlbiA9IGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW0sIHRoaXMuaXRlbUNoaWxkcmVuLCBbXSk7CiAgICAgICAgdmFyIG9sZE5vZGUgPSB0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkgPyB0aGlzLm5vZGVzW2tleV0gOiB7CiAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZSwKICAgICAgICAgIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsCiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgICBpc09wZW46IGZhbHNlLAogICAgICAgICAgdm5vZGU6IG51bGwKICAgICAgICB9OwogICAgICAgIHZhciBub2RlID0gewogICAgICAgICAgdm5vZGU6IG9sZE5vZGUudm5vZGUsCiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCwKICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGdldE9iamVjdFZhbHVlQnlQYXRoKGMsIF90aGlzNS5pdGVtS2V5KTsKICAgICAgICAgIH0pLAogICAgICAgICAgaXRlbTogaXRlbQogICAgICAgIH07CiAgICAgICAgdGhpcy5idWlsZFRyZWUoY2hpbGRyZW4sIGtleSk7IC8vIFRoaXMgZml4ZWQgYnVnIHdpdGggZHluYW1pYyBjaGlsZHJlbiByZXNldHRpbmcgc2VsZWN0ZWQgcGFyZW50IHN0YXRlCgogICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHBhcmVudCAhPT0gbnVsbCAmJiB0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KHBhcmVudCkpIHsKICAgICAgICAgIG5vZGUuaXNTZWxlY3RlZCA9IHRoaXMubm9kZXNbcGFyZW50XS5pc1NlbGVjdGVkOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlLmlzU2VsZWN0ZWQgPSBvbGROb2RlLmlzU2VsZWN0ZWQ7CiAgICAgICAgICBub2RlLmlzSW5kZXRlcm1pbmF0ZSA9IG9sZE5vZGUuaXNJbmRldGVybWluYXRlOwogICAgICAgIH0KCiAgICAgICAgbm9kZS5pc0FjdGl2ZSA9IG9sZE5vZGUuaXNBY3RpdmU7CiAgICAgICAgbm9kZS5pc09wZW4gPSBvbGROb2RlLmlzT3BlbjsKICAgICAgICB0aGlzLm5vZGVzW2tleV0gPSBub2RlOwoKICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICB2YXIgX3RoaXMkY2FsY3VsYXRlU3RhdGUgPSB0aGlzLmNhbGN1bGF0ZVN0YXRlKGtleSwgdGhpcy5ub2RlcyksCiAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IF90aGlzJGNhbGN1bGF0ZVN0YXRlLmlzU2VsZWN0ZWQsCiAgICAgICAgICAgICAgaXNJbmRldGVybWluYXRlID0gX3RoaXMkY2FsY3VsYXRlU3RhdGUuaXNJbmRldGVybWluYXRlOwoKICAgICAgICAgIG5vZGUuaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7CiAgICAgICAgICBub2RlLmlzSW5kZXRlcm1pbmF0ZSA9IGlzSW5kZXRlcm1pbmF0ZTsKICAgICAgICB9IC8vIERvbid0IGZvcmdldCB0byByZWJ1aWxkIGNhY2hlCgoKICAgICAgICBpZiAodGhpcy5ub2Rlc1trZXldLmlzU2VsZWN0ZWQgJiYgKHRoaXMuc2VsZWN0aW9uVHlwZSA9PT0gJ2luZGVwZW5kZW50JyB8fCBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkpIHRoaXMuc2VsZWN0ZWRDYWNoZS5hZGQoa2V5KTsKICAgICAgICBpZiAodGhpcy5ub2Rlc1trZXldLmlzQWN0aXZlKSB0aGlzLmFjdGl2ZUNhY2hlLmFkZChrZXkpOwogICAgICAgIGlmICh0aGlzLm5vZGVzW2tleV0uaXNPcGVuKSB0aGlzLm9wZW5DYWNoZS5hZGQoa2V5KTsKICAgICAgICB0aGlzLnVwZGF0ZVZub2RlU3RhdGUoa2V5KTsKICAgICAgfQogICAgfSwKICAgIGNhbGN1bGF0ZVN0YXRlOiBmdW5jdGlvbiBjYWxjdWxhdGVTdGF0ZShub2RlLCBzdGF0ZSkgewogICAgICB2YXIgY2hpbGRyZW4gPSBzdGF0ZVtub2RlXS5jaGlsZHJlbjsKICAgICAgdmFyIGNvdW50cyA9IGNoaWxkcmVuLnJlZHVjZShmdW5jdGlvbiAoY291bnRzLCBjaGlsZCkgewogICAgICAgIGNvdW50c1swXSArPSArQm9vbGVhbihzdGF0ZVtjaGlsZF0uaXNTZWxlY3RlZCk7CiAgICAgICAgY291bnRzWzFdICs9ICtCb29sZWFuKHN0YXRlW2NoaWxkXS5pc0luZGV0ZXJtaW5hdGUpOwogICAgICAgIHJldHVybiBjb3VudHM7CiAgICAgIH0sIFswLCAwXSk7CiAgICAgIHZhciBpc1NlbGVjdGVkID0gISFjaGlsZHJlbi5sZW5ndGggJiYgY291bnRzWzBdID09PSBjaGlsZHJlbi5sZW5ndGg7CiAgICAgIHZhciBpc0luZGV0ZXJtaW5hdGUgPSAhaXNTZWxlY3RlZCAmJiAoY291bnRzWzBdID4gMCB8fCBjb3VudHNbMV0gPiAwKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLAogICAgICAgIGlzSW5kZXRlcm1pbmF0ZTogaXNJbmRldGVybWluYXRlCiAgICAgIH07CiAgICB9LAogICAgZW1pdE9wZW46IGZ1bmN0aW9uIGVtaXRPcGVuKCkgewogICAgICB0aGlzLmVtaXROb2RlQ2FjaGUoJ3VwZGF0ZTpvcGVuJywgdGhpcy5vcGVuQ2FjaGUpOwogICAgfSwKICAgIGVtaXRTZWxlY3RlZDogZnVuY3Rpb24gZW1pdFNlbGVjdGVkKCkgewogICAgICB0aGlzLmVtaXROb2RlQ2FjaGUoJ2lucHV0JywgdGhpcy5zZWxlY3RlZENhY2hlKTsKICAgIH0sCiAgICBlbWl0QWN0aXZlOiBmdW5jdGlvbiBlbWl0QWN0aXZlKCkgewogICAgICB0aGlzLmVtaXROb2RlQ2FjaGUoJ3VwZGF0ZTphY3RpdmUnLCB0aGlzLmFjdGl2ZUNhY2hlKTsKICAgIH0sCiAgICBlbWl0Tm9kZUNhY2hlOiBmdW5jdGlvbiBlbWl0Tm9kZUNhY2hlKGV2ZW50LCBjYWNoZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuJGVtaXQoZXZlbnQsIHRoaXMucmV0dXJuT2JqZWN0ID8gX3RvQ29uc3VtYWJsZUFycmF5KGNhY2hlKS5tYXAoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiBfdGhpczYubm9kZXNba2V5XS5pdGVtOwogICAgICB9KSA6IF90b0NvbnN1bWFibGVBcnJheShjYWNoZSkpOwogICAgfSwKICAgIGhhbmRsZU5vZGVDYWNoZVdhdGNoZXI6IGZ1bmN0aW9uIGhhbmRsZU5vZGVDYWNoZVdhdGNoZXIodmFsdWUsIGNhY2hlLCB1cGRhdGVGbiwgZW1pdEZuKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFsdWUgPSB0aGlzLnJldHVybk9iamVjdCA/IHZhbHVlLm1hcChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBnZXRPYmplY3RWYWx1ZUJ5UGF0aCh2LCBfdGhpczcuaXRlbUtleSk7CiAgICAgIH0pIDogdmFsdWU7CgogICAgICB2YXIgb2xkID0gX3RvQ29uc3VtYWJsZUFycmF5KGNhY2hlKTsKCiAgICAgIGlmIChkZWVwRXF1YWwob2xkLCB2YWx1ZSkpIHJldHVybjsKICAgICAgb2xkLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiB1cGRhdGVGbihrZXksIGZhbHNlKTsKICAgICAgfSk7CiAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiB1cGRhdGVGbihrZXksIHRydWUpOwogICAgICB9KTsKICAgICAgZW1pdEZuKCk7CiAgICB9LAogICAgZ2V0RGVzY2VuZGFudHM6IGZ1bmN0aW9uIGdldERlc2NlbmRhbnRzKGtleSkgewogICAgICB2YXIgX2Rlc2NlbmRhbnRzOwoKICAgICAgdmFyIGRlc2NlbmRhbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5ub2Rlc1trZXldLmNoaWxkcmVuOwoKICAgICAgKF9kZXNjZW5kYW50cyA9IGRlc2NlbmRhbnRzKS5wdXNoLmFwcGx5KF9kZXNjZW5kYW50cywgX3RvQ29uc3VtYWJsZUFycmF5KGNoaWxkcmVuKSk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGVzY2VuZGFudHMgPSB0aGlzLmdldERlc2NlbmRhbnRzKGNoaWxkcmVuW2ldLCBkZXNjZW5kYW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZXNjZW5kYW50czsKICAgIH0sCiAgICBnZXRQYXJlbnRzOiBmdW5jdGlvbiBnZXRQYXJlbnRzKGtleSkgewogICAgICB2YXIgcGFyZW50ID0gdGhpcy5ub2Rlc1trZXldLnBhcmVudDsKICAgICAgdmFyIHBhcmVudHMgPSBbXTsKCiAgICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHsKICAgICAgICBwYXJlbnRzLnB1c2gocGFyZW50KTsKICAgICAgICBwYXJlbnQgPSB0aGlzLm5vZGVzW3BhcmVudF0ucGFyZW50OwogICAgICB9CgogICAgICByZXR1cm4gcGFyZW50czsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIobm9kZSkgewogICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgobm9kZS5pdGVtLCB0aGlzLml0ZW1LZXkpOwogICAgICB0aGlzLm5vZGVzW2tleV0udm5vZGUgPSBub2RlOwogICAgICB0aGlzLnVwZGF0ZVZub2RlU3RhdGUoa2V5KTsKICAgIH0sCiAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKG5vZGUpIHsKICAgICAgdmFyIGtleSA9IGdldE9iamVjdFZhbHVlQnlQYXRoKG5vZGUuaXRlbSwgdGhpcy5pdGVtS2V5KTsKICAgICAgaWYgKHRoaXMubm9kZXNba2V5XSkgdGhpcy5ub2Rlc1trZXldLnZub2RlID0gbnVsbDsKICAgIH0sCiAgICBpc1BhcmVudDogZnVuY3Rpb24gaXNQYXJlbnQoa2V5KSB7CiAgICAgIHJldHVybiB0aGlzLm5vZGVzW2tleV0uY2hpbGRyZW4gJiYgdGhpcy5ub2Rlc1trZXldLmNoaWxkcmVuLmxlbmd0aDsKICAgIH0sCiAgICB1cGRhdGVBY3RpdmU6IGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZShrZXksIGlzQWN0aXZlKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjsKCiAgICAgIGlmICghdGhpcy5tdWx0aXBsZUFjdGl2ZSkgewogICAgICAgIHRoaXMuYWN0aXZlQ2FjaGUuZm9yRWFjaChmdW5jdGlvbiAoYWN0aXZlKSB7CiAgICAgICAgICBfdGhpczgubm9kZXNbYWN0aXZlXS5pc0FjdGl2ZSA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzOC51cGRhdGVWbm9kZVN0YXRlKGFjdGl2ZSk7CgogICAgICAgICAgX3RoaXM4LmFjdGl2ZUNhY2hlLmRlbGV0ZShhY3RpdmUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXNba2V5XTsKICAgICAgaWYgKCFub2RlKSByZXR1cm47CiAgICAgIGlmIChpc0FjdGl2ZSkgdGhpcy5hY3RpdmVDYWNoZS5hZGQoa2V5KTtlbHNlIHRoaXMuYWN0aXZlQ2FjaGUuZGVsZXRlKGtleSk7CiAgICAgIG5vZGUuaXNBY3RpdmUgPSBpc0FjdGl2ZTsKICAgICAgdGhpcy51cGRhdGVWbm9kZVN0YXRlKGtleSk7CiAgICB9LAogICAgdXBkYXRlU2VsZWN0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkKGtleSwgaXNTZWxlY3RlZCkgewogICAgICB2YXIgaXNGb3JjZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgICBpZiAoIXRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuOwogICAgICB2YXIgY2hhbmdlZCA9IG5ldyBNYXAoKTsKCiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblR5cGUgIT09ICdpbmRlcGVuZGVudCcpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZ2V0RGVzY2VuZGFudHMoa2V5KSksCiAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBkZXNjZW5kYW50ID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgaWYgKCFnZXRPYmplY3RWYWx1ZUJ5UGF0aCh0aGlzLm5vZGVzW2Rlc2NlbmRhbnRdLml0ZW0sIHRoaXMuaXRlbURpc2FibGVkKSB8fCBpc0ZvcmNlZCkgewogICAgICAgICAgICAgIHRoaXMubm9kZXNbZGVzY2VuZGFudF0uaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7CiAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tkZXNjZW5kYW50XS5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZTsKICAgICAgICAgICAgICBjaGFuZ2VkLnNldChkZXNjZW5kYW50LCBpc1NlbGVjdGVkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNhbGN1bGF0ZWQgPSB0aGlzLmNhbGN1bGF0ZVN0YXRlKGtleSwgdGhpcy5ub2Rlcyk7CiAgICAgICAgdGhpcy5ub2Rlc1trZXldLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkOwogICAgICAgIHRoaXMubm9kZXNba2V5XS5pc0luZGV0ZXJtaW5hdGUgPSBjYWxjdWxhdGVkLmlzSW5kZXRlcm1pbmF0ZTsKICAgICAgICBjaGFuZ2VkLnNldChrZXksIGlzU2VsZWN0ZWQpOwoKICAgICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZ2V0UGFyZW50cyhrZXkpKSwKICAgICAgICAgICAgX3N0ZXA0OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgIHZhciBfY2FsY3VsYXRlZCA9IHRoaXMuY2FsY3VsYXRlU3RhdGUocGFyZW50LCB0aGlzLm5vZGVzKTsKCiAgICAgICAgICAgIHRoaXMubm9kZXNbcGFyZW50XS5pc1NlbGVjdGVkID0gX2NhbGN1bGF0ZWQuaXNTZWxlY3RlZDsKICAgICAgICAgICAgdGhpcy5ub2Rlc1twYXJlbnRdLmlzSW5kZXRlcm1pbmF0ZSA9IF9jYWxjdWxhdGVkLmlzSW5kZXRlcm1pbmF0ZTsKICAgICAgICAgICAgY2hhbmdlZC5zZXQocGFyZW50LCBfY2FsY3VsYXRlZC5pc1NlbGVjdGVkKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ub2Rlc1trZXldLmlzU2VsZWN0ZWQgPSBpc1NlbGVjdGVkOwogICAgICAgIHRoaXMubm9kZXNba2V5XS5pc0luZGV0ZXJtaW5hdGUgPSBmYWxzZTsKICAgICAgICBjaGFuZ2VkLnNldChrZXksIGlzU2VsZWN0ZWQpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGNoYW5nZWQuZW50cmllcygpKSwKICAgICAgICAgIF9zdGVwNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcDUkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDUudmFsdWUsIDIpLAogICAgICAgICAgICAgIF9rZXkgPSBfc3RlcDUkdmFsdWVbMF0sCiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcDUkdmFsdWVbMV07CgogICAgICAgICAgdGhpcy51cGRhdGVWbm9kZVN0YXRlKF9rZXkpOwogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uVHlwZSA9PT0gJ2xlYWYnICYmIHRoaXMuaXNQYXJlbnQoX2tleSkpIGNvbnRpbnVlOwogICAgICAgICAgdmFsdWUgPT09IHRydWUgPyB0aGlzLnNlbGVjdGVkQ2FjaGUuYWRkKF9rZXkpIDogdGhpcy5zZWxlY3RlZENhY2hlLmRlbGV0ZShfa2V5KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlT3BlbjogZnVuY3Rpb24gdXBkYXRlT3BlbihrZXksIGlzT3BlbikgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47CiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldOwogICAgICB2YXIgY2hpbGRyZW4gPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChub2RlLml0ZW0sIHRoaXMuaXRlbUNoaWxkcmVuKTsKCiAgICAgIGlmIChjaGlsZHJlbiAmJiAhY2hpbGRyZW4ubGVuZ3RoICYmIG5vZGUudm5vZGUgJiYgIW5vZGUudm5vZGUuaGFzTG9hZGVkKSB7CiAgICAgICAgbm9kZS52bm9kZS5jaGVja0NoaWxkcmVuKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM5LnVwZGF0ZU9wZW4oa2V5LCBpc09wZW4pOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgIG5vZGUuaXNPcGVuID0gaXNPcGVuOwogICAgICAgIG5vZGUuaXNPcGVuID8gdGhpcy5vcGVuQ2FjaGUuYWRkKGtleSkgOiB0aGlzLm9wZW5DYWNoZS5kZWxldGUoa2V5KTsKICAgICAgICB0aGlzLnVwZGF0ZVZub2RlU3RhdGUoa2V5KTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVZub2RlU3RhdGU6IGZ1bmN0aW9uIHVwZGF0ZVZub2RlU3RhdGUoa2V5KSB7CiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS52bm9kZSkgewogICAgICAgIG5vZGUudm5vZGUuaXNTZWxlY3RlZCA9IG5vZGUuaXNTZWxlY3RlZDsKICAgICAgICBub2RlLnZub2RlLmlzSW5kZXRlcm1pbmF0ZSA9IG5vZGUuaXNJbmRldGVybWluYXRlOwogICAgICAgIG5vZGUudm5vZGUuaXNBY3RpdmUgPSBub2RlLmlzQWN0aXZlOwogICAgICAgIG5vZGUudm5vZGUuaXNPcGVuID0gbm9kZS5pc09wZW47CiAgICAgIH0KICAgIH0sCiAgICBpc0V4Y2x1ZGVkOiBmdW5jdGlvbiBpc0V4Y2x1ZGVkKGtleSkgewogICAgICByZXR1cm4gISF0aGlzLnNlYXJjaCAmJiB0aGlzLmV4Y2x1ZGVkSXRlbXMuaGFzKGtleSk7CiAgICB9CiAgfSwKICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoKSB7CiAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgdmFyIGNoaWxkcmVuID0gdGhpcy5pdGVtcy5sZW5ndGggPyB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gIV90aGlzMTAuaXNFeGNsdWRlZChnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCBfdGhpczEwLml0ZW1LZXkpKTsKICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgZ2VuQ2hpbGQgPSBWVHJlZXZpZXdOb2RlLm9wdGlvbnMubWV0aG9kcy5nZW5DaGlsZC5iaW5kKF90aGlzMTApOwogICAgICByZXR1cm4gZ2VuQ2hpbGQoaXRlbSwgZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgX3RoaXMxMC5pdGVtRGlzYWJsZWQpKTsKICAgIH0pCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgOiB0aGlzLiRzbG90cy5kZWZhdWx0OyAvLyBUT0RPOiByZW1vdmUgdHlwZSBhbm5vdGF0aW9uIHdpdGggVFMgMy4yCgogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICd2LXRyZWV2aWV3JywKICAgICAgY2xhc3M6IF9vYmplY3RTcHJlYWQoewogICAgICAgICd2LXRyZWV2aWV3LS1ob3ZlcmFibGUnOiB0aGlzLmhvdmVyYWJsZSwKICAgICAgICAndi10cmVldmlldy0tZGVuc2UnOiB0aGlzLmRlbnNlCiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKQogICAgfSwgY2hpbGRyZW4pOwogIH0KfSk7"},null]}