{"remainingRequest":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\src\\components\\MarkdownView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\src\\components\\MarkdownView.vue","mtime":1607437472324},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lee-Gi-Su\\IdeaProjects\\springboot-board\\springboot_board_with_vuejs\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gIi4uL21haW4uanMiOw0KDQpjb25zdCBtYXJrZWQgPSByZXF1aXJlKCJtYXJrZWQiKTsNCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsNCmNvbnN0IHRhZ3MgPSBbDQogICJoMSIsDQogICJoMiIsDQogICJoMyIsDQogICJoNCIsDQogICJoNSIsDQogICJoNiIsDQogICJlbSIsDQogICJzdHJvbmciLA0KICAiZGVsIiwNCiAgInUiLA0KICAidWwiLA0KICAibGkiLA0KICAicHJlIiwNCiAgIm9sIiwNCiAgImEiLA0KICAiaW1nIiwNCiAgInRhYmxlIiwNCiAgImJsb2NrcXVvdGUiLA0KICAicCIsDQogICJociIsDQogICJsaSINCl07DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiBbIm1hcmtkb3duVVJMIl0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1hcmtkb3duOiAiIg0KICAgIH07DQogIH0sDQoNCiAgY3JlYXRlZCgpIHsNCiAgICBldmVudEJ1cy4kb24oInJlY2VpdmVkVVJMIiwgbWFya2VkVVJMID0+IHsNCiAgICAgIGNvbnNvbGUubG9nKCJyZWNlaXZlZCAiICsgbWFya2VkVVJMKTsNCg0KICAgICAgdGhpcy5mZXRjaERhdGEobWFya2VkVVJMKTsNCiAgICB9KTsNCiAgfSwNCg0KICBjb21wdXRlZDogew0KICAgIGNvbnZlcnRNYXJrdG9IdG1sKCkgew0KICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpOw0KICAgICAgdGhpcy5zZXRDdXN0b21SZW5kZXJlcihyZW5kZXJlcik7DQoNCiAgICAgIG1hcmtlZC5zZXRPcHRpb25zKHsNCiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyLA0KICAgICAgICBnZm06IHRydWUsDQogICAgICAgIGhlYWRlcklkczogZmFsc2UsDQogICAgICAgIHRhYmxlczogdHJ1ZSwNCiAgICAgICAgYnJlYWtzOiB0cnVlLA0KICAgICAgICBwZWRhbnRpYzogZmFsc2UsDQogICAgICAgIHNtYXJ0TGlzdHM6IHRydWUsDQogICAgICAgIHNtYXJ0eXBhbnRzOiBmYWxzZQ0KICAgICAgfSk7DQoNCiAgICAgIGxldCBtYXJrZWRIVE1MID0gbWFya2VkKHRoaXMubWFya2Rvd24pOw0KICAgICAgbWFya2VkSFRNTCA9IHRoaXMuc2V0UHJlZml4SFRNTENsYXNzKG1hcmtlZEhUTUwsICJteS0zIik7DQogICAgICByZXR1cm4gbWFya2VkSFRNTDsNCiAgICB9DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGZldGNoRGF0YShtYXJrZWRVUkwpIHsNCiAgICAgIGF4aW9zLmdldChtYXJrZWRVUkwpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLm1hcmtkb3duID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBzZXRDdXN0b21SZW5kZXJlcihyZW5kZXJlcikgew0KICAgICAgLy8gaDEsaDIg7YOc6re4IOy7pOyKpO2FgA0KICAgICAgcmVuZGVyZXIuaGVhZGluZyA9IGZ1bmN0aW9uKHRleHQsIGxldmVsKSB7DQogICAgICAgIGlmIChsZXZlbCA8PSAyKSB7DQogICAgICAgICAgcmV0dXJuICgNCiAgICAgICAgICAgICI8aCIgKw0KICAgICAgICAgICAgbGV2ZWwgKw0KICAgICAgICAgICAgJyBjbGFzcz0ibXQtMTAiPicgKw0KICAgICAgICAgICAgdGV4dCArDQogICAgICAgICAgICAiPC9oIiArDQogICAgICAgICAgICBsZXZlbCArDQogICAgICAgICAgICAnPjxociBjb2xvcj0iI0NGRDhEQyIgc2l6ZT0iNCIgY2xhc3M9Im10LTMgbWItNSI+Jw0KICAgICAgICAgICk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgcmV0dXJuICI8aCIgKyBsZXZlbCArICI+IiArIHRleHQgKyAiPC9oIiArIGxldmVsICsgIj4iOw0KICAgICAgICB9DQogICAgICB9Ow0KDQogICAgICAvLyBociDtg5zqt7gg7Luk7Iqk7YWADQogICAgICByZW5kZXJlci5ociA9IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gJzxociBjb2xvcj0iI0VDRUZGMSIgc2l6ZT0iNyI+JzsNCiAgICAgIH07DQoNCiAgICAgIC8vIGxpIO2DnOq3uCDsu6TsiqTthYANCiAgICAgIHJlbmRlcmVyLmxpc3RpdGVtID0gZnVuY3Rpb24odGV4dCwgdGFzaywgY2hlY2tlZCkgew0KICAgICAgICByZXR1cm4gJzxsaSBjbGFzcz0ibm9uZSBsaXN0eWxlIG15LTMiPicgKyB0ZXh0ICsgIjwvbGk+IjsNCiAgICAgIH07DQoNCiAgICAgIHJlbmRlcmVyLmNvZGVzcGFuID0gZnVuY3Rpb24oY29kZSkgew0KICAgICAgICByZXR1cm4gJzxjb2RlIHN0eWxlPSJjb2xvcjpyZWQiPicgKyBjb2RlICsgIjwvY29kZT4iOw0KICAgICAgfTsNCg0KICAgICAgcmVuZGVyZXIuY29kZSA9IGZ1bmN0aW9uKGNvZGUpIHsNCiAgICAgICAgcmV0dXJuICI8cHJlPjxiPiIgKyBjb2RlICsgIjwvYj48L3ByZT4iOw0KICAgICAgfTsNCg0KICAgICAgcmVuZGVyZXIuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkgew0KICAgICAgICByZXR1cm4gJzxpbWcgc3JjPSInICsgaHJlZiArICciIGFsdD0iIj4nOw0KICAgICAgfTsNCiAgICB9LA0KDQogICAgc2V0UHJlZml4SFRNTENsYXNzKG1hcmtlZEhUTUwsIHByZWZpeCkgew0KICAgICAgbGV0IGNoYW5nZWRIVE1MID0gbWFya2VkSFRNTDsNCiAgICAgIGlmIChwcmVmaXggIT0gIiIpIHsNCiAgICAgICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHsNCiAgICAgICAgICBsZXQgY2xhc3NUZW1wTmFtZTsNCiAgICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKCI8IiArIHRhZyArICI+IiwgImciKTsgLy8g7Iuc7J6RIO2DnOq3uCDssL7quLANCiAgICAgICAgICBjaGFuZ2VkSFRNTCA9IGNoYW5nZWRIVE1MLnJlcGxhY2UoDQogICAgICAgICAgICByZWdleCwNCiAgICAgICAgICAgIGA8JHt0YWd9IGNsYXNzPSIke3ByZWZpeH0gIj5gDQogICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGNoYW5nZWRIVE1MOyAvLyBjaGFuZ2VkVGV4dOudvOuKlCDsg4jroZzsmrQg6rCS7J2EIOuwmO2ZmA0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["MarkdownView.vue"],"names":[],"mappings":";;;;;;;;;AASA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MarkdownView.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container>\r\n    <div v-html=\"convertMarktoHtml\" />\r\n  </v-container>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { eventBus } from \"../main.js\";\r\n\r\nconst marked = require(\"marked\");\r\nconst axios = require(\"axios\");\r\nconst tags = [\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"em\",\r\n  \"strong\",\r\n  \"del\",\r\n  \"u\",\r\n  \"ul\",\r\n  \"li\",\r\n  \"pre\",\r\n  \"ol\",\r\n  \"a\",\r\n  \"img\",\r\n  \"table\",\r\n  \"blockquote\",\r\n  \"p\",\r\n  \"hr\",\r\n  \"li\"\r\n];\r\nexport default {\r\n  props: [\"markdownURL\"],\r\n  data() {\r\n    return {\r\n      markdown: \"\"\r\n    };\r\n  },\r\n\r\n  created() {\r\n    eventBus.$on(\"receivedURL\", markedURL => {\r\n      console.log(\"received \" + markedURL);\r\n\r\n      this.fetchData(markedURL);\r\n    });\r\n  },\r\n\r\n  computed: {\r\n    convertMarktoHtml() {\r\n      var renderer = new marked.Renderer();\r\n      this.setCustomRenderer(renderer);\r\n\r\n      marked.setOptions({\r\n        renderer: renderer,\r\n        gfm: true,\r\n        headerIds: false,\r\n        tables: true,\r\n        breaks: true,\r\n        pedantic: false,\r\n        smartLists: true,\r\n        smartypants: false\r\n      });\r\n\r\n      let markedHTML = marked(this.markdown);\r\n      markedHTML = this.setPrefixHTMLClass(markedHTML, \"my-3\");\r\n      return markedHTML;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    fetchData(markedURL) {\r\n      axios.get(markedURL).then(response => {\r\n        this.markdown = response.data;\r\n      });\r\n    },\r\n\r\n    setCustomRenderer(renderer) {\r\n      // h1,h2 태그 커스텀\r\n      renderer.heading = function(text, level) {\r\n        if (level <= 2) {\r\n          return (\r\n            \"<h\" +\r\n            level +\r\n            ' class=\"mt-10\">' +\r\n            text +\r\n            \"</h\" +\r\n            level +\r\n            '><hr color=\"#CFD8DC\" size=\"4\" class=\"mt-3 mb-5\">'\r\n          );\r\n        } else {\r\n          return \"<h\" + level + \">\" + text + \"</h\" + level + \">\";\r\n        }\r\n      };\r\n\r\n      // hr 태그 커스텀\r\n      renderer.hr = function() {\r\n        return '<hr color=\"#ECEFF1\" size=\"7\">';\r\n      };\r\n\r\n      // li 태그 커스텀\r\n      renderer.listitem = function(text, task, checked) {\r\n        return '<li class=\"none listyle my-3\">' + text + \"</li>\";\r\n      };\r\n\r\n      renderer.codespan = function(code) {\r\n        return '<code style=\"color:red\">' + code + \"</code>\";\r\n      };\r\n\r\n      renderer.code = function(code) {\r\n        return \"<pre><b>\" + code + \"</b></pre>\";\r\n      };\r\n\r\n      renderer.image = function(href, title, text) {\r\n        return '<img src=\"' + href + '\" alt=\"\">';\r\n      };\r\n    },\r\n\r\n    setPrefixHTMLClass(markedHTML, prefix) {\r\n      let changedHTML = markedHTML;\r\n      if (prefix != \"\") {\r\n        for (let tag of tags) {\r\n          let classTempName;\r\n          let regex = new RegExp(\"<\" + tag + \">\", \"g\"); // 시작 태그 찾기\r\n          changedHTML = changedHTML.replace(\r\n            regex,\r\n            `<${tag} class=\"${prefix} \">`\r\n          );\r\n        }\r\n      }\r\n      return changedHTML; // changedText라는 새로운 값을 반환\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}